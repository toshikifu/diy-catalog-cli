# DIY Catalog CLI

DIY 作品のカタログ PDF ページを簡単に作成できるコマンドラインアプリケーションです。

## 機能

- DIY 作品のタイトル、リンク、写真を入力してカタログページを生成
- 作品の写真を自動的にリサイズして A4 サイズに最適化
- 作品のリンクを QR コードとして表示
- 日本語フォント（IPAexGothic）に対応
- インタラクティブな CLI で簡単操作

## 必要条件

- Python 3.11 以上
- uv（パッケージマネージャー）

## インストール

1. リポジトリをクローン

```bash
git clone <repository-url>
cd diy-catalog-cli
```

2. 依存関係をインストール

```bash
uv sync
```

## 使用方法

### 基本的な使用方法

```bash
uv run main.py
```

または

```bash
make run
```

### 実行例

アプリケーションを実行すると、以下の情報を順番に入力するように求められます：

1. **作品のタイトル** - カタログページの上部に表示されるタイトル
2. **作品のリンク** - YouTube、ブログ、SNS などの作品へのリンク（QR コードとして表示）
3. **作品の写真のパス** - 作品の画像ファイルのパス（jpg, jpeg, png 形式対応）
4. **出力先ディレクトリ** - PDF ファイルの保存先（デフォルト: ~/Downloads）

### 入力例

```
作品のタイトル: 木製の本棚
作品のリンク: https://youtu.be/example123
作品の写真のパス: ~/Pictures/bookshelf.jpg
出力先ディレクトリ: ~/Downloads
```

## 生成される PDF の内容

- A4 サイズの PDF ページ
- 作品のタイトル（中央配置）
- 作品の写真（自動リサイズ、中央配置）
- 作品のリンクを QR コードとして表示
- 日本語フォント対応

## 開発

### テストの実行

```bash
make test
```

または

```bash
uv run pytest
```

### プロジェクト構造

```
diy-catalog-cli/
├── main.py              # CLIアプリケーションのメインファイル
├── generate_pdf.py      # PDF生成ロジック
├── fonts/               # 日本語フォント
│   └── ipaexg.ttf
├── tests/               # テストファイル
│   ├── test_main.py
│   └── test_generate_pdf.py
├── pyproject.toml       # プロジェクト設定
├── Makefile            # ビルドタスク
└── README.md           # このファイル
```

## 依存関係

- **click**: CLI インターフェース
- **fpdf2**: PDF 生成
- **pillow**: 画像処理
- **qrcode**: QR コード生成
- **pytest**: テスト実行

## トラブルシューティング

### フォントが読み込めない場合

日本語フォント（IPAexGothic）の読み込みに失敗した場合、デフォルトフォント（Helvetica）が使用されます。

### 写真ファイルが見つからない場合

- ファイルパスが正しいことを確認してください
- 相対パスまたは絶対パスを使用できます
- ホームディレクトリの省略形（`~`）も使用可能です

### サポートされている画像形式

- JPEG (.jpg, .jpeg)
- PNG (.png)

## ライセンス

このプロジェクトのライセンス情報については、プロジェクトのルートディレクトリを確認してください。

## 貢献

バグ報告や機能要望は、GitHub の Issues ページでお知らせください。
